<div class="container">
  <h3>Све речи из корпуса</h3>
  <p>Време генерисања: 22.08.2022. 10:00:00</p>
  <p-table [value]="words" [dataKey]="'word'" styleClass="p-datatable-sm" responsiveLayout="scroll" [paginator]="true" [rows]="10" [showCurrentPageReport]="true">
    <ng-template pTemplate="header">
      <tr>
        <th style="width: 3rem"></th>
        <th>Лексема</th>
        <th class="w100">Бр. извора</th>
        <th class="w100">Фреквенција</th>
        <th class="w100">У Речнику</th>
        <th class="w200">Статус</th>
      </tr>
      <tr>
        <th>&nbsp;</th>
        <th><p-columnFilter type="text" field="word"></p-columnFilter></th>
        <th>&nbsp;</th>
        <th>&nbsp;</th>
        <th>
          <p-columnFilter field="in_rsj" matchMode="equals" [showMenu]="false">
            <ng-template pTemplate="filter" let-value let-filter="filterCallback">
              <p-dropdown [ngModel]="value" [options]="filterRecnikOptions" (onChange)="filter($event.value)" optionLabel="name" optionValue="code" placeholder="сви" [showClear]="false" [style]="{width: '80px'}" appendTo="body">
              </p-dropdown>
            </ng-template>
          </p-columnFilter>
        </th>
        <th>
          <p-columnFilter field="status" matchMode="equals" [showMenu]="false">
            <ng-template pTemplate="filter" let-value let-filter="filterCallback">
              <p-dropdown [ngModel]="value" [options]="statuses" (onChange)="filter($event.value)" optionLabel="name" optionValue="code" placeholder="сви" [showClear]="false" [style]="{width: '180px'}" appendTo="body"></p-dropdown>
            </ng-template>
          </p-columnFilter>
        </th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-rec let-expanded="expanded">
      <tr>
        <td>
          <button type="button" pButton pRipple [pRowToggler]="rec" class="p-button-text p-button-rounded p-button-plain" [icon]="expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'"></button>
        </td>
        <td>{{rec.word}}</td>
        <td class="right">{{rec.pub_count}}</td>
        <td class="right">{{rec.freq}}</td>
        <td class="center">{{rec.in_rsj_str}}</td>
        <td pEditableColumn class="pointer">
          <p-cellEditor>
            <ng-template pTemplate="input">
              <p-dropdown [options]="statuses" [(ngModel)]="rec.status" optionLabel="name" optionValue="code" appendTo="body" [style]="{width: '180px'}" (onChange)="onChangeStatus($event, rec)"></p-dropdown>
            </ng-template>
            <ng-template pTemplate="output">
              {{rec.status_str}}
            </ng-template>
          </p-cellEditor>
        </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="rowexpansion" let-rec>
      <tr *ngFor="let pub of rec.pubs">
        <td></td>
        <td colspan="2">
          {{pub.word}}: {{pub.pubskr}}
        </td>
        <td class="right">{{pub.freq}}</td>
        <td colspan="2">
          &nbsp;
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>