<div class="container">
  <div class="col-12">
    <p-button label="Сачувај" (click)="save()" icon="pi pi-save" styleClass="p-button-success"></p-button>
  </div>
  <div class="flex mb-2 align-items-baseline">
    <div class="w150 labela">Наслов:</div>
    <div class="p-inputgroup w400">
      <input type="text" class="input-field" pInputText [(ngModel)]="pub.naslov" size="100"/>
    </div>
  </div>
  <div class="flex mb-2 align-items-baseline">
    <div class="w150 labela">Скраћеница:</div>
    <div class="p-inputgroup w150">
      <input type="text" class="input-field" pInputText [(ngModel)]="pub.skracenica" size="20"/>
    </div>
  </div>
  <div class="flex mb-2 align-items-baseline">
    <div class="w150 labela">Поткорпус:</div>
    <div class="p-inputgroup w300">
      <p-dropdown
          [options]="subcorpuses"
          [(ngModel)]="pub.potkorpus"
          optionLabel="naziv"
          [showClear]="true"
          [required]="false"
          placeholder="---"
          [style]="{'width':'300px'}">
      </p-dropdown>
    </div>
  </div>
  <div class="flex mb-2 align-items-baseline">
    <div class="w150 labela">Врста:</div>
    <div class="p-inputgroup w300">
      <p-dropdown
          [options]="pubTypes" 
          [(ngModel)]="pub.vrsta" 
          optionLabel="naziv" 
          [showClear]="true"
          [required]="false"
          placeholder="---"
          [style]="{'width':'300px'}">
      </p-dropdown>
    </div>
  </div>
  <div class="flex mb-2 align-items-baseline">
    <div class="w150 labela">Аутори:</div>
    <div class="p-inputgroup w800">
      <p-table #authorTable [value]="pub.autori" dataKey="index" editMode="row" [style]="{'width': '800px'}">
        <ng-template pTemplate="header" let-editing="editing" >
          <tr>
            <th>Презиме</th>
            <th>Име</th>
            <th style="width:6rem"><button *ngIf="!editing" pButton pRipple type="button" icon="pi pi-plus" (click)="onAddRow()" class="p-button-rounded p-button-text"></button></th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-autor let-editing="editing" let-ri="rowIndex">
          <tr [pEditableRow]="autor">
            <td>
              <p-cellEditor>
                <ng-template pTemplate="input">
                  <input pInputText type="text" [(ngModel)]="autor.prezime" placeholder="Презиме" [style]="{'width':'300px'}"/>
                </ng-template>
                <ng-template pTemplate="output">
                  {{autor.prezime}}
                </ng-template>
              </p-cellEditor>
            </td>
            <td>
              <p-cellEditor>
                <ng-template pTemplate="input">
                  <input pInputText type="text" [(ngModel)]="autor.ime" placeholder="Име" [style]="{'width':'300px'}"/>
                </ng-template>
                <ng-template pTemplate="output">
                  {{autor.ime}}
                </ng-template>
              </p-cellEditor>
            </td>
            <td style="text-align:center">
              <button *ngIf="!editing" pButton pRipple type="button" pInitEditableRow icon="pi pi-pencil" (click)="onRowEditInit(autor)" class="p-button-rounded p-button-text"></button>
              <button *ngIf="!editing" pButton pRipple type="button" icon="pi pi-times" (click)="onDeleteRow(ri)" class="p-button-rounded p-button-text p-button-danger"></button>
              <button *ngIf="editing" pButton pRipple type="button" pSaveEditableRow icon="pi pi-check" (click)="onRowEditSave(autor)" class="p-button-rounded p-button-text p-button-success mr-2"></button>
              <button *ngIf="editing" pButton pRipple type="button" pCancelEditableRow icon="pi pi-refresh" (click)="onRowEditCancel(autor, ri)" class="p-button-rounded p-button-text p-button-danger"></button>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
  <div class="flex mb-2 align-items-baseline">
    <div class="w150 labela">Преводилац:</div>
    <div class="p-inputgroup w300">
      <input type="text" class="input-field" pInputText [(ngModel)]="pub.prevodilac" size="100"/>
    </div>
  </div>
  <div class="flex mb-2 align-items-baseline">
    <div class="w150 labela">Издање/серија:</div>
    <div class="p-inputgroup w300">
      <input type="text" class="input-field" pInputText [(ngModel)]="pub.naslov_izdanja" size="100"/>
    </div>
  </div>
  <div class="flex mb-2 align-items-baseline">
    <div class="w150 labela">Издавач:</div>
    <div class="p-inputgroup w300">
      <input type="text" class="input-field" pInputText [(ngModel)]="pub.izdavac" size="50"/>
    </div>
  </div>
  <div class="flex mb-2 align-items-baseline">
    <div class="w150 labela">Година:</div>
    <div class="p-inputgroup w150">
      <input type="text" class="input-field" pInputText [(ngModel)]="pub.godina" size="10"/>
    </div>
  </div>
  <div class="flex mb-2 align-items-baseline">
    <div class="w150 labela">Прво издање:</div>
    <div class="p-inputgroup w150">
      <input type="text" class="input-field" pInputText [(ngModel)]="pub.prvo_izdanje" size="10"/>
    </div>
  </div>
  <div class="flex mb-2 align-items-baseline">
    <div class="w150 labela">ISBN:</div>
    <div class="p-inputgroup w150">
      <input type="text" class="input-field" pInputText [(ngModel)]="pub.isbn" size="15"/>
    </div>
  </div>
  <div class="flex mb-2 align-items-baseline">
    <div class="w150 labela">ISSN:</div>
    <div class="p-inputgroup w150">
      <input type="text" class="input-field" pInputText [(ngModel)]="pub.issn" size="10"/>
    </div>
  </div>
  <div class="flex mb-2 align-items-baseline">
    <div class="w150 labela">Волумен:</div>
    <div class="p-inputgroup w150">
      <input type="text" class="input-field" pInputText [(ngModel)]="pub.volumen" size="10"/>
    </div>
  </div>
  <div class="flex mb-2 align-items-baseline">
    <div class="w150 labela">Жанр:</div>
    <div class="p-inputgroup w150">
      <input type="text" class="input-field" pInputText [(ngModel)]="pub.zanr" size="15"/>
    </div>
  </div>
  <div class="flex mb-2 align-items-baseline">
    <div class="w150 labela">Напомена:</div>
    <div class="p-inputgroup w400">
      <input type="text" class="input-field" pInputText [(ngModel)]="pub.napomena" size="100"/>
    </div>
  </div>
  <div class="flex mb-2 align-items-baseline">
    <div class="w150 labela">URL:</div>
    <div class="p-inputgroup w800">
      <input type="text" class="input-field" pInputText [(ngModel)]="pub.url"/>
    </div>
  </div>
</div>
